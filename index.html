
<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Tarot Flashcards - Mobile</title>
<style>
  body {
    font-family: Arial, sans-serif;
    margin: 0;
    padding: 20px;
    text-align: center;
    background: #fdfdfd;
  }
  h1 {
    font-size: 2em;
    margin-bottom: 10px;
  }
  .controls {
    margin-bottom: 20px;
  }
  label, select, button {
    font-size: 1.2em;
    margin: 8px;
  }
  select, button {
    padding: 12px 20px;
    border-radius: 8px;
    border: 1px solid #ccc;
  }
  button {
    background-color: #007BFF;
    color: white;
    cursor: pointer;
  }
  button:hover {
    background-color: #0056b3;
  }
  #cardImage {
    max-width: 90%;
    height: auto;
    margin: 20px auto;
    display: block;
  }
  #progressBar {
    width: 100%;
    background: #eee;
    height: 20px;
    border-radius: 10px;
    margin-top: 20px;
  }
  #progressFill {
    height: 100%;
    width: 0;
    background: #007BFF;
    border-radius: 10px;
  }
  .option {
    display: block;
    margin: 12px auto;
    padding: 16px;
    font-size: 1.2em;
    width: 80%;
    max-width: 300px;
    border-radius: 8px;
    border: 1px solid #ccc;
    background: #f9f9f9;
    cursor: pointer;
  }
  .option:hover {
    background: #e6e6e6;
  }
</style>
</head>
<body>

<h1>Tarot Flashcards</h1>

<div class="controls">
  <label for="modeSelect">Mode:</label>
  <select id="modeSelect">
    <option value="numberToCard">Number → Card</option>
    <option value="cardToNumber">Card → Number</option>
    <option value="mixed" selected>Mixed</option>
  </select>

  <label for="answerType">Answer:</label>
  <select id="answerType">
    <option value="text">Text Input</option>
    <option value="multiple" selected>Multiple Choice</option>
  </select>

  <label for="orderSelect">Order:</label>
  <select id="orderSelect">
    <option value="sequential">Sequential</option>
    <option value="shuffled" selected>Shuffled</option>
  </select>
</div>

<div id="quizArea">
  <p id="questionText" style="font-size:1.5em;"></p>
  <img id="cardImage" src="" alt="" style="display:none;">
  <input type="text" id="answerInput" placeholder="Type your answer" style="font-size:1.2em; padding:10px; width:80%; max-width:300px; display:none;">
  <div id="multipleChoiceOptions"></div>
  <button id="submitBtn">Submit</button>
</div>

<div id="feedback" style="font-size:1.3em; margin:15px;"></div>
<button id="nextBtn" style="display:none;">Next</button>

<div id="progressBar">
  <div id="progressFill"></div>
</div>

<div id="summary" style="font-size:1.3em; margin-top:20px;"></div>

<script>
const cards = [
  { num: "I", name: "Le Bateleur", file: "01_Magician.jpg" },
  { num: "II", name: "La Papesse", file: "02_High_Priestess.jpg" },
  { num: "III", name: "L’Imperatrice", file: "03_Empress.jpg" },
  { num: "IV", name: "L’Empereur", file: "04_Emperor.jpg" },
  { num: "V", name: "Le Pape", file: "05_Hierophant.jpg" },
  { num: "VI", name: "L’Amoureux", file: "06_Lovers.jpg" },
  { num: "VII", name: "Le Chariot", file: "07_Chariot.jpg" },
  { num: "VIII", name: "La Justice", file: "08_Justice.jpg" },
  { num: "IX", name: "L’Hermite", file: "09_Hermit.jpg" },
  { num: "X", name: "La Roue de Fortune", file: "10_Wheel.jpg" },
  { num: "XI", name: "La Force", file: "11_Strength.jpg" },
  { num: "XII", name: "Le Pendu", file: "12_Hanged_Man.jpg" },
  { num: "XIII", name: "L’Arcane sans nom", file: "13_Death.jpg" },
  { num: "XIV", name: "Temperance", file: "14_Temperance.jpg" },
  { num: "XV", name: "Le Diable", file: "15_Devil.jpg" },
  { num: "XVI", name: "La Maison Dieu", file: "16_Tower.jpg" },
  { num: "XVII", name: "L’Etoile", file: "17_Star.jpg" },
  { num: "XVIII", name: "La Lune", file: "18_Moon.jpg" },
  { num: "XIX", name: "Le Soleil", file: "19_Sun.jpg" },
  { num: "XX", name: "Le Jugement", file: "20_Judgement.jpg" },
  { num: "XXI", name: "Le Monde", file: "21_World.jpg" },
  { num: "0", name: "Le Mat", file: "00_Fool.jpg" }
];

let currentIndex = 0;
let shuffled = [];
let correct = 0;
let total = 0;

function shuffleArray(array) {
  return array.map(a => [Math.random(), a]).sort((a, b) => a[0] - b[0]).map(a => a[1]);
}

function initQuiz() {
  const order = document.getElementById("orderSelect").value;
  shuffled = order === "shuffled" ? shuffleArray(cards.slice()) : cards.slice();
  currentIndex = 0;
  correct = 0;
  total = 0;
  document.getElementById("summary").innerText = "";
  showQuestion();
}

function showQuestion() {
  const mode = document.getElementById("modeSelect").value;
  const answerType = document.getElementById("answerType").value;
  const card = shuffled[currentIndex];
  document.getElementById("feedback").innerText = "";
  document.getElementById("nextBtn").style.display = "none";

  document.getElementById("answerInput").style.display = answerType === "text" ? "block" : "none";
  document.getElementById("multipleChoiceOptions").innerHTML = "";

  if (mode === "numberToCard") {
    document.getElementById("questionText").innerText = "What card is " + card.num + "?";
    document.getElementById("cardImage").style.display = "none";
  } else if (mode === "cardToNumber") {
    document.getElementById("questionText").innerText = "What number is this card?";
    document.getElementById("cardImage").src = "images/" + card.file;
    document.getElementById("cardImage").style.display = "block";
  } else {
    if (Math.random() > 0.5) {
      document.getElementById("questionText").innerText = "What card is " + card.num + "?";
      document.getElementById("cardImage").style.display = "none";
    } else {
      document.getElementById("questionText").innerText = "What number is this card?";
      document.getElementById("cardImage").src = "images/" + card.file;
      document.getElementById("cardImage").style.display = "block";
    }
  }

  if (answerType === "multiple") {
    const options = shuffleArray([card, ...shuffleArray(cards).slice(0, 3)]);
    options.forEach(opt => {
      const btn = document.createElement("button");
      btn.className = "option";
      btn.innerText = document.getElementById("questionText").innerText.includes("number") ? opt.num : opt.name;
      btn.onclick = () => checkAnswer(btn.innerText);
      document.getElementById("multipleChoiceOptions").appendChild(btn);
    });
  }
}

function checkAnswer(answer) {
  const card = shuffled[currentIndex];
  const correctAnswer = document.getElementById("questionText").innerText.includes("number") ? card.num : card.name;
  if (answer.trim().toLowerCase() === correctAnswer.trim().toLowerCase()) {
    document.getElementById("feedback").innerText = "✅ Correct!";
    correct++;
  } else {
    document.getElementById("feedback").innerText = "❌ Wrong! The correct answer is " + correctAnswer;
  }
  total++;
  document.getElementById("nextBtn").style.display = "block";
  updateProgress();
}

function updateProgress() {
  const fill = document.getElementById("progressFill");
  fill.style.width = ((currentIndex + 1) / shuffled.length) * 100 + "%";
}

document.getElementById("submitBtn").onclick = () => {
  const input = document.getElementById("answerInput").value;
  if (document.getElementById("answerInput").style.display !== "none" && input === "") return;
  checkAnswer(input);
};

document.getElementById("nextBtn").onclick = () => {
  currentIndex++;
  if (currentIndex < shuffled.length) {
    showQuestion();
  } else {
    document.getElementById("summary").innerText = "Game over! Score: " + correct + "/" + total;
    document.getElementById("quizArea").style.display = "none";
  }
};

// Initialize on load with defaults (mixed, multiple, shuffled)
window.onload = initQuiz;
</script>

</body>
</html>
